# Meeting Transcriber Configuration
# Copy this file to .env and adjust values as needed

# Model Configuration
WHISPER_MODEL=base              # Options: tiny, base, small, medium, large-v3
WHISPER_DEVICE=cuda             # Options: cuda, cpu
WHISPER_COMPUTE_TYPE=float16    # Options: float16, float32, int8

# GPU Configuration
CUDA_VISIBLE_DEVICES=0          # GPU device ID (use -1 for CPU only)
CUDA_LAUNCH_BLOCKING=0          # Set to 1 for debugging

# Translation Service
LIBRETRANSLATE_URL=http://libretranslate:5000
LIBRETRANSLATE_LANGS=en,pt,es,fr,de,it,ja,zh
USE_LIBRETRANSLATE=true
PREFERRED_TRANSLATOR=libretranslate

# Audio Configuration
SAMPLE_RATE=16000               # Audio sample rate in Hz
VAD_THRESHOLD=0.5               # Voice Activity Detection threshold (0.0-1.0)
SAVE_AUDIO=true                 # Save audio recordings
AUTO_START_MODULE=windows_capture              # Leave empty for manual selection
MIN_SPEECH_DURATION=1.0         # Minimum seconds of speech to transcribe
MAX_SILENCE_RATIO=0.9           # Maximum ratio of silence in audio

# File Paths (inside container)
RECORDINGS_PATH=/data/recordings
TRANSCRIPTS_PATH=/data/transcripts
TRANSLATIONS_PATH=/data/translations
MODELS_PATH=/models

# Web Interface
WEB_UI_PORT=8080
API_PORT=8000
WEBSOCKET_PORT=8765
WINDOWS_AUDIO_PORT=8766

# Development Settings
FLASK_ENV=production            # Options: development, production
FLASK_DEBUG=0                   # Set to 1 for debug mode
LOG_LEVEL=INFO                  # Options: DEBUG, INFO, WARNING, ERROR
PYTHONUNBUFFERED=1

# LibreTranslate Settings
LT_LOAD_ONLY=en,pt              # Languages to load (speeds up startup)
LT_UPDATE_MODELS=false          # Update models on startup
LT_THREADS=4                    # Number of translation threads
LT_CHAR_LIMIT=5000              # Character limit per translation
LT_FRONTEND_LANGUAGE_TARGET=pt  # Default target language
LT_DEBUG=false                  # LibreTranslate debug mode

# Performance Tuning
MAX_QUEUE_SIZE=100              # Audio queue size
CHUNK_DURATION=10.0             # Audio chunk duration in seconds
AUDIO_BUFFER_SIZE=2048          # Audio buffer size in frames

# Feature Flags
ENABLE_TRANSLATION=true         # Enable/disable translation
ENABLE_BROWSER_EXTENSION=true   # Enable/disable browser extension support
ENABLE_AUDIO_RECORDING=true     # Enable/disable audio file saving
ENABLE_HALLUCINATION_FILTER=true # Filter out repetitive hallucinations

# Security
ALLOWED_ORIGINS=*               # CORS allowed origins
API_KEY=                        # Optional API key for authentication
ENABLE_HTTPS=false              # Enable HTTPS (requires certificates)

# Docker Settings
COMPOSE_PROJECT_NAME=meeting-transcriber
RESTART_POLICY=unless-stopped